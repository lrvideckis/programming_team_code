% a4 paper gives us over 2000 more square mm per page, for a total of
% almost 5/6 of a page extra space
\newif\ifuseletter

%\useletterfalse
\uselettertrue

% if you need extra room to staple, adjust textheight and topmargin.

\ifuseletter
\documentclass[12pt,letterpaper,twocolumn,landscape]{article}
\textheight 8.25in
\textwidth 10.75in
\evensidemargin -0.875in
\oddsidemargin -0.875in
\topmargin -0.875in
\else
\documentclass[12pt,a4paper,twocolumn]{article}
\textwidth 200mm  % a4 paper is 210mm wide
\textheight 287mm % a4 paper is 297mm high
\evensidemargin -1in
\oddsidemargin -1in
\topmargin -1in
\addtolength{\evensidemargin}{5mm}
\addtolength{\oddsidemargin}{5mm}
\addtolength{\topmargin}{5mm}
\fi


\headheight 15pt
\headsep 4pt
\addtolength{\textheight}{-14pt}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\lhead{South Dakota School of Mines and Technology}
\rhead{Page \thepage}


\newlength{\lstlinewidth}
\setlength{\lstlinewidth}{0.5\textwidth}
\addtolength{\lstlinewidth}{-6pt}

% used to make sure that lstlisting aligns every character in a column
\newlength{\normalbasewidth}
\settowidth{\normalbasewidth}{\ttfamily m}
\newlength{\smallbasewidth}
\settowidth{\smallbasewidth}{\ttfamily\small m}
\newlength{\footnotebasewidth}
\settowidth{\footnotebasewidth}{\ttfamily\footnotesize m}
\newlength{\scriptbasewidth}
\settowidth{\scriptbasewidth}{\ttfamily\scriptsize m}

%% \makeatletter
%% \lstdefinestyle{mystyle}{
%%   basewidth=\footnotebasewidth,
%%   basicstyle=\ttfamily\lst@ifdisplaystyle\ttfamily\footnotesize\fi
%% }
%% \makeatother


\makeatletter
\lstdefinestyle{mystyle}{
	basewidth=\scriptbasewidth,
	basicstyle=\ttfamily\lst@ifdisplaystyle\ttfamily\scriptsize\fi
}
\makeatother

\makeatletter
\lst@CCPutMacro\lst@ProcessOther {"2D}{\lst@ttfamily{-{}}{-{}}}
\@empty\z@\@empty
\makeatother

% choose the colors you like below.

\lstset{
	language=C++,
	linewidth=\lstlinewidth,
	style=mystyle,           % set basic font and spacing
	captionpos=t,            % sets the caption position to top
	columns=fixed,
	mathescape=false,
	breaklines=true,         % sets automatic line breaking
	breakatwhitespace=true,  % automatic breaks should only happen at whitespace
	extendedchars=false,     % ASCII printing characters only
	% escapechar={`},          % Anything between backtics is escaped
	% escapeinside={{(*}{*)}},
	% frame=single,          % adds a frame around the code
	frame=tlrb,              % adds a frame around the code
	rulecolor=\color{black},
	xleftmargin=1pt,
	xrightmargin=1pt,
	% frameround=fttf,
	% framesep=3pt,
	% rulesep=3pt,
	framerule=0.5pt,
	% framexleftmargin=10pt,
	% framexrightmargin=10pt,
	% framextopmargin=10pt,
	% framexbottommargin=10pt,
	%%   %fillcolor=\color{SkyBlue},
	%%   %rulesepcolor=\color{SkyBlue},
	%keywordstyle=[1]\color{blue},      % keyword style
	%keywordstyle=[2]\color{cyan},      % keyword style
	%keywordstyle=[3]\color{orange},
	keywordstyle=\color{blue},      % keyword style
	stringstyle=\color{magenta},     % string literal style
	commentstyle=\color{gray}\itshape,
	morecomment=[l][\color{orange}]{\#},
	identifierstyle=\color{purple},
	%numberbychapter=true,
	numbers=none, % where to put the line-numbers; (none, left, right)
	%numbersep=15pt,                 % how far the line-numbers are from the code
	%numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
	postbreak={\mbox{$\hookrightarrow\space$}},
	showspaces=false, % show spaces everywhere adding particular underscores
	showstringspaces=false,         % underline spaces within strings only
	showtabs=false,  % show tabs within strings adding particular underscores
	stepnumber=1,    % the step between printed line-numbers.
	tabsize=4        % sets default tab character size to 8 spaces
}

\begin{document}

\lstlistoflistings
\newpage

\lstinputlisting[caption={\textbf{CODE HASHES}}]{null}
\lstinputlisting[language=bash, caption={hash.sh}]{scripts/hash.sh}

\lstinputlisting[caption={\textbf{GRAPHS}}]{null}
\lstinputlisting[language=C++, caption={Bridges and Cuts}]{../../Library/graphs/bridges_and_cuts.h}
\lstinputlisting[language=C++, caption={Centroid}]{../../Library/graphs/centroid.h}
\lstinputlisting[language=C++, caption={Dijkstra}]{../../Library/graphs/dijkstra.h}
\lstinputlisting[language=C++, caption={Floyd Warshall}]{../../Library/graphs/floydWarshall.h}
\lstinputlisting[language=C++, caption={HLD}]{../../Library/graphs/hld.h}
\lstinputlisting[language=C++, caption={Hopcroft Karp}]{../../Library/graphs/hopcroftKarp.h}
\lstinputlisting[language=C++, caption={LCA}]{../../Library/graphs/lca.h}
\lstinputlisting[language=C++, caption={SCC}]{../../Library/graphs/scc.h}

\lstinputlisting[caption={\textbf{RANGE DATA STRUCTURES}}]{null}
\lstinputlisting[language=C++, caption={Segment Tree}]{../../Library/range_data_structures/segTree.h}
\lstinputlisting[language=C++, caption={Fenwick Tree}]{../../Library/range_data_structures/fenwickTree.h}
\lstinputlisting[language=C++, caption={Sparse Table}]{../../Library/range_data_structures/sparseTable.h}
\lstinputlisting[language=C++, caption={Implicit Lazy Segment Tree}]{../../Library/range_data_structures/implicitSegTree.h}
\lstinputlisting[language=C++, caption={Range Updates, Point Queries}]{../../Library/range_data_structures/seldom_used/fenwickInv.h}
\lstinputlisting[language=C++, caption={Kth Smallest}]{../../Library/range_data_structures/seldom_used/kth_smallest.h}
\lstinputlisting[language=C++, caption={Number Distinct Elements}]{../../Library/range_data_structures/seldom_used/distinct_query.h}
\lstinputlisting[language=C++, caption={Buckets}]{../../Library/range_data_structures/seldom_used/buckets.h}
\lstinputlisting[language=C++, caption={Persistent Lazy Segment Tree}]{../../Library/range_data_structures/seldom_used/persistentLazySegTree.h}
\lstinputlisting[language=C++, caption={Mos Algorithm}]{../../Library/range_data_structures/seldom_used/MosAlg.h}
\lstinputlisting[language=C++, caption={Merge Sort Tree}]{../../Library/range_data_structures/seldom_used/mergeSortTree.h}

\lstinputlisting[caption={\textbf{STRINGS}}]{null}
\lstinputlisting[language=C++, caption={Suffix Array}]{../../Library/strings/suffix_array.h}
\lstinputlisting[language=C++, caption={Longest Common Prefix Array}]{../../Library/strings/longest_common_prefix.h}
\lstinputlisting[language=C++, caption={Prefix Function}]{../../Library/strings/prefix_function.h}
\lstinputlisting[language=C++, caption={KMP}]{../../Library/strings/kmp.h}
\lstinputlisting[language=C++, caption={Trie}]{../../Library/strings/trie.h}
\lstinputlisting[language=C++, caption={Longest Common Prefix Query}]{../../Library/strings/lcp_queries.h}

\lstinputlisting[caption={\textbf{MATH}}]{null}
\lstinputlisting[language=C++, caption={BIN EXP MOD}]{../../Library/math/exp_mod.h}
\lstinputlisting[language=C++, caption={Fibonacci}]{../../Library/math/fib.h}
\lstinputlisting[language=C++, caption={Matrix Mult and Pow}]{../../Library/math/matrixMultPow.h}
\lstinputlisting[language=C++, caption={N Choose K MOD}]{../../Library/math/n_choose_k_mod.h}
\lstinputlisting[language=C++, caption={Partitions}]{../../Library/math/partitions.h}
\lstinputlisting[language=C++, caption={Derangements}]{../../Library/math/derangements.h}
\lstinputlisting[language=C++, caption={Prime Sieve Mobius}]{../../Library/math/primeSieveMobius.h}
\lstinputlisting[language=C++, caption={Row Reduce}]{../../Library/math/row_reduce.h}
\lstinputlisting[language=C++, caption={Solve Linear Equations MOD}]{../../Library/math/solve_linear_mod.h}
\lstinputlisting[language=C++, caption={Matrix Inverse}]{../../Library/math/matrix_inverse.h}
\lstinputlisting[language=C++, caption={Euler's Totient Phi Function}]{../../Library/math/totient.h}

\lstinputlisting[caption={\textbf{MAX FLOW}}]{null}
\lstinputlisting[language=C++, caption={Dinic}]{../../Library/maxflow/dinic.h}
\lstinputlisting[language=C++, caption={Hungarian}]{../../Library/maxflow/hungarian.h}
\lstinputlisting[language=C++, caption={Min Cost Max Flow}]{../../Library/maxflow/minCostMaxFlow.h}

\lstinputlisting[caption={\textbf{MISC}}]{null}
\lstinputlisting[language=C++, caption={Disjoint Set}]{../../Library/misc/disjointSet.h}
\lstinputlisting[language=C++, caption={PBDS}]{../../Library/misc/policy_based_data_structures.h}
\lstinputlisting[language=C++, caption={Count Rectangles}]{../../Library/misc/cntRectangles.h}
\lstinputlisting[language=C++, caption={Longest Increasing Subsequence}]{../../Library/misc/longest_increasing_subsequence.h}
\lstinputlisting[language=C++, caption={Monotonic Stack}]{../../Library/misc/monotonic_stack.h}
\lstinputlisting[language=C++, caption={Safe Hash}]{../../Library/misc/safehash.h}

\pagebreak
\end{document}
